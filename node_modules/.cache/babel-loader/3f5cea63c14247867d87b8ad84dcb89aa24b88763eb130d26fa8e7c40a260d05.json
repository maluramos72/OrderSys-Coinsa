{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Malu\\\\Downloads\\\\OrderSys-Coinsa\\\\src\\\\components\\\\order-management-system.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport Papa from \"papaparse\";\nimport html2canvas from \"html2canvas\";\nimport { ShoppingCart, Save, Trash2, Eye, Plus, FileText, User, ChevronLeft, ChevronRight } from \"lucide-react\";\n\n/* ===========================\n  Interfaces / Types\n   =========================== */\n\n/* ===========================\n  ProductPreview\n   =========================== */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductPreview = ({\n  product,\n  color,\n  logo,\n  logoPos,\n  imageUrl,\n  onClickPosition,\n  id,\n  width = 400,\n  height = 400\n}) => {\n  if (!product) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full h-full rounded-lg bg-gray-100 flex items-center justify-center\",\n      style: {\n        width,\n        height\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-400\",\n        children: \"Selecciona un producto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: id,\n    onClick: onClickPosition,\n    style: {\n      width,\n      height,\n      backgroundColor: color,\n      borderRadius: 8,\n      position: \"relative\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      overflow: \"hidden\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: imageUrl || product.image,\n      alt: product.name,\n      style: {\n        width: \"100%\",\n        height: \"100%\",\n        objectFit: \"contain\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), logo && /*#__PURE__*/_jsxDEV(\"img\", {\n      src: logo,\n      alt: \"logo\",\n      style: {\n        position: \"absolute\",\n        left: logoPos.x,\n        top: logoPos.y,\n        width: Math.min(80, width * 0.4),\n        height: Math.min(80, height * 0.4),\n        transform: \"translate(-50%, -50%)\",\n        pointerEvents: \"none\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n};\n\n/* ===========================\n  Main component\n   =========================== */\n_c = ProductPreview;\nconst OrderManagementSystem = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [selectedSize, setSelectedSize] = useState(\"M\");\n  const [quantity, setQuantity] = useState(1);\n  const [logoFile, setLogoFile] = useState(null);\n  const [logoPosition, setLogoPosition] = useState({\n    x: 200,\n    y: 200\n  });\n  const [orderItems, setOrderItems] = useState([]);\n  const [customerInfo, setCustomerInfo] = useState({\n    companyName: \"\",\n    contact: \"\",\n    phone: \"\",\n    email: \"\",\n    deliveryDate: \"\"\n  });\n  const [ordersStats] = useState({\n    pending: 12,\n    inProcess: 8,\n    completed: 45\n  });\n\n  /* ---------------------------\n    Load products from CSV\n   --------------------------- */\n  useEffect(() => {\n    fetch(\"/products.csv\").then(r => r.text()).then(csvText => {\n      Papa.parse(csvText, {\n        header: true,\n        skipEmptyLines: true,\n        complete: result => {\n          const parsed = result.data;\n          const prods = parsed.map((row, i) => ({\n            id: i + 1,\n            name: row.name || row.product || `Producto ${i + 1}`,\n            basePrice: parseFloat(row.basePrice || row.price || 0),\n            image: row.image || \"/imgs/placeholder.png\",\n            type: row.type || \"\"\n          }));\n          setProducts(prods);\n          if (prods.length > 0) setSelectedProduct(prods[0]);\n        }\n      });\n    }).catch(err => {\n      console.warn(\"No se pudo cargar products.csv:\", err);\n    });\n  }, []);\n\n  /* ---------------------------\n    Handlers\n   --------------------------- */\n  const handleLogoUpload = e => {\n    var _e$target$files;\n    const f = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!f) return;\n    const reader = new FileReader();\n    reader.onload = () => {\n      setLogoFile(reader.result);\n      setLogoPosition({\n        x: 200,\n        y: 200\n      });\n    };\n    reader.readAsDataURL(f);\n  };\n  const handlePreviewClickPosition = e => {\n    const el = e.currentTarget.getBoundingClientRect();\n    const x = e.clientX - el.left;\n    const y = e.clientY - el.top;\n    setLogoPosition({\n      x,\n      y\n    });\n  };\n  const handleAddToOrder = () => {\n    if (!selectedProduct) return;\n    const newItem = {\n      id: Date.now(),\n      product: selectedProduct,\n      color: \"#FFFFFF\",\n      size: selectedSize,\n      quantity: quantity > 0 ? quantity : 1,\n      logo: logoFile,\n      logoPosition,\n      subtotal: (quantity > 0 ? quantity : 1) * selectedProduct.basePrice\n    };\n    setOrderItems(prev => [...prev, newItem]);\n    setLogoFile(null);\n    setLogoPosition({\n      x: 200,\n      y: 200\n    });\n    setQuantity(1);\n  };\n  const updateOrderItem = (id, field, value) => {\n    setOrderItems(prev => prev.map(it => {\n      if (it.id !== id) return it;\n      const updated = {\n        ...it,\n        [field]: value\n      };\n      if (field === \"quantity\") {\n        const q = Number(value) || 0;\n        updated.subtotal = updated.product.basePrice * q;\n        updated.quantity = q;\n      }\n      return updated;\n    }));\n  };\n  const removeOrderItem = id => {\n    setOrderItems(prev => prev.filter(it => it.id !== id));\n  };\n  const getTotalOrder = () => orderItems.reduce((s, it) => s + it.subtotal, 0);\n\n  /* ---------------------------\n    Export helpers\n   --------------------------- */\n  const exportOrder = async () => {\n    if (orderItems.length === 0) {\n      alert(\"No puedes guardar una orden sin productos.\");\n      return;\n    }\n    const orderId = Date.now();\n    const now = new Date();\n    const orderMeta = {\n      id: orderId,\n      customer: {\n        ...customerInfo\n      },\n      items: orderItems,\n      total: getTotalOrder(),\n      status: \"Pendiente\",\n      createdAt: now.toISOString()\n    };\n\n    // üöÄ Enviar todo al backend\n    const itemsWithPreview = await Promise.all(orderItems.map(async it => {\n      const el = document.getElementById(`hidden-preview-${it.id}`);\n      let previewImage = null;\n      if (el) {\n        const canvas = await html2canvas(el, {\n          scale: 2\n        });\n        previewImage = canvas.toDataURL(\"image/png\");\n      }\n      return {\n        ...it,\n        productName: it.product.name,\n        basePrice: it.product.basePrice,\n        previewImage\n      };\n    }));\n\n    // validando saveorder\n    const resp = await fetch(\"http://localhost:5000/api/saveOrder\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        order: orderMeta,\n        items: itemsWithPreview\n      })\n    });\n    const data = await resp.json();\n    if (data.success) {\n      alert(`Orden ${orderId} guardada en el servidor ‚úÖ`);\n      setOrderItems([]);\n      setCustomerInfo({\n        companyName: \"\",\n        contact: \"\",\n        phone: \"\",\n        email: \"\",\n        deliveryDate: \"\"\n      });\n    } else {\n      alert(\"‚ùå Error al guardar la orden: \" + data.error);\n    }\n  };\n\n  /* ===========================\n    JSX (UI)\n   =========================== */\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-100 min-h-screen p-8 font-sans\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-800\",\n          children: \"Sistema de \\xD3rdenes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-4 text-sm font-semibold text-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: ordersStats.pending\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Pendientes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-yellow-500\",\n              children: ordersStats.inProcess\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"En Proceso\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-green-500\",\n              children: ordersStats.completed\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Completadas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-xl p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-1 bg-gray-50 rounded-lg p-6 shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold mb-4 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(User, {\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 17\n              }, this), \"Informaci\\xF3n del Cliente\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Empresa\",\n                value: customerInfo.companyName,\n                onChange: e => setCustomerInfo({\n                  ...customerInfo,\n                  companyName: e.target.value\n                }),\n                className: \"w-full px-3 py-2 border rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Contacto\",\n                value: customerInfo.contact,\n                onChange: e => setCustomerInfo({\n                  ...customerInfo,\n                  contact: e.target.value\n                }),\n                className: \"w-full px-3 py-2 border rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                placeholder: \"Tel\\xE9fono\",\n                value: customerInfo.phone,\n                onChange: e => setCustomerInfo({\n                  ...customerInfo,\n                  phone: e.target.value\n                }),\n                className: \"w-full px-3 py-2 border rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                placeholder: \"Email\",\n                value: customerInfo.email,\n                onChange: e => setCustomerInfo({\n                  ...customerInfo,\n                  email: e.target.value\n                }),\n                className: \"w-full px-3 py-2 border rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: customerInfo.deliveryDate,\n                onChange: e => setCustomerInfo({\n                  ...customerInfo,\n                  deliveryDate: e.target.value\n                }),\n                className: \"w-full px-3 py-2 border rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg p-6 shadow-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-bold mb-4 flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 19\n                }, this), \"Selecci\\xF3n del Producto\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2 mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    if (!products.length) return;\n                    const idx = products.findIndex(p => p.id === (selectedProduct === null || selectedProduct === void 0 ? void 0 : selectedProduct.id));\n                    const newIdx = (idx - 1 + products.length) % products.length;\n                    setSelectedProduct(products[newIdx]);\n                  },\n                  className: \"p-2 rounded bg-gray-100\",\n                  children: /*#__PURE__*/_jsxDEV(ChevronLeft, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 416,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: (selectedProduct === null || selectedProduct === void 0 ? void 0 : selectedProduct.id) || \"\",\n                    onChange: e => {\n                      const id = Number(e.target.value);\n                      const p = products.find(x => x.id === id) || null;\n                      setSelectedProduct(p);\n                    },\n                    className: \"w-full px-3 py-2 border rounded\",\n                    children: products.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: p.id,\n                      children: [p.name, \" \\u2014 $\", p.basePrice]\n                    }, p.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 430,\n                      columnNumber: 25\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 420,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    if (!products.length) return;\n                    const idx = products.findIndex(p => p.id === (selectedProduct === null || selectedProduct === void 0 ? void 0 : selectedProduct.id));\n                    const newIdx = (idx + 1) % products.length;\n                    setSelectedProduct(products[newIdx]);\n                  },\n                  className: \"p-2 rounded bg-gray-100\",\n                  children: /*#__PURE__*/_jsxDEV(ChevronRight, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"text-sm block mb-1\",\n                  children: \"Talla\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: selectedSize,\n                  onChange: e => setSelectedSize(e.target.value),\n                  className: \"w-full px-3 py-2 border rounded\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"XS\",\n                    children: \"XS\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 457,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"S\",\n                    children: \"S\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 458,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"M\",\n                    children: \"M\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 459,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"L\",\n                    children: \"L\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 460,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"XL\",\n                    children: \"XL\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 461,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"text-sm block mb-1\",\n                  children: \"Cantidad\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  min: 1,\n                  value: quantity,\n                  onChange: e => setQuantity(Number(e.target.value) || 1),\n                  className: \"w-full px-3 py-2 border rounded\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"text-sm block mb-1\",\n                  children: \"Logo del cliente\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    accept: \"image/*\",\n                    onChange: handleLogoUpload\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 479,\n                    columnNumber: 21\n                  }, this), logoFile && /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: logoFile,\n                    alt: \"logo\",\n                    style: {\n                      width: 40,\n                      height: 40,\n                      objectFit: \"cover\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 481,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500 mt-1\",\n                  children: \"Haz clic en la vista previa para posicionar el logo.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleAddToOrder,\n                  className: \"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded flex items-center justify-center\",\n                  children: [/*#__PURE__*/_jsxDEV(Plus, {\n                    className: \"mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 21\n                  }, this), \" Agregar a la Orden\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg p-6 shadow-lg flex flex-col items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-bold mb-4 flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(Eye, {\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 19\n                }, this), \" Vista Previa\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: 400,\n                  height: 400\n                },\n                children: /*#__PURE__*/_jsxDEV(ProductPreview, {\n                  product: selectedProduct,\n                  color: \"#FFFFFF\",\n                  logo: logoFile,\n                  logoPos: logoPosition,\n                  onClickPosition: handlePreviewClickPosition,\n                  imageUrl: selectedProduct === null || selectedProduct === void 0 ? void 0 : selectedProduct.image,\n                  id: \"preview-selected\",\n                  width: 400,\n                  height: 400\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold mb-4 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(FileText, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 15\n            }, this), \" Resumen de la Orden\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 13\n          }, this), orderItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"No hay productos en la orden.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [orderItems.map(it => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center bg-white rounded p-4 shadow\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-shrink-0 border rounded-lg shadow-sm\",\n                style: {\n                  width: 100,\n                  height: 100,\n                  marginRight: 12\n                },\n                children: /*#__PURE__*/_jsxDEV(ProductPreview, {\n                  product: it.product,\n                  color: it.color,\n                  logo: it.logo,\n                  logoPos: it.logoPosition,\n                  imageUrl: it.product.image,\n                  width: 100,\n                  height: 100\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 544,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-semibold\",\n                      children: it.product.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 559,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-600\",\n                      children: [\"Talla: \", it.size]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 560,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-600\",\n                      children: [\"Precio: $\", it.product.basePrice]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 561,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 558,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-right\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-semibold\",\n                      children: [\"$\", it.subtotal]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 566,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => removeOrderItem(it.id),\n                      className: \"text-red-500 mt-2\",\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 571,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 567,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 565,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 557,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3 flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"text-sm\",\n                    children: \"Cantidad\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 577,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    min: 1,\n                    value: it.quantity,\n                    onChange: e => updateOrderItem(it.id, \"quantity\", Number(e.target.value) || 1),\n                    className: \"w-20 px-2 py-1 border rounded\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 578,\n                    columnNumber: 25\n                  }, this), it.logo && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-green-600 ml-4\",\n                    children: \"Logo personalizado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 592,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 576,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: `hidden-preview-${it.id}`,\n                style: {\n                  position: \"absolute\",\n                  left: \"-9999px\",\n                  top: 0,\n                  width: 400,\n                  height: 400\n                },\n                children: /*#__PURE__*/_jsxDEV(ProductPreview, {\n                  product: it.product,\n                  color: it.color,\n                  logo: it.logo,\n                  logoPos: it.logoPosition,\n                  imageUrl: it.product.image,\n                  width: 400,\n                  height: 400\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 610,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 600,\n                columnNumber: 21\n              }, this)]\n            }, it.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 19\n            }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 flex justify-end items-center space-x-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xl font-bold\",\n                children: [\"Total: $\", getTotalOrder()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: exportOrder,\n                className: \"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(Save, {\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 630,\n                  columnNumber: 21\n                }, this), \" Guardar Orden (Exportar)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 626,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 624,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 320,\n    columnNumber: 5\n  }, this);\n};\n_s(OrderManagementSystem, \"rP5AKvRHt2UG4Ur7X2E7kkzZUsY=\");\n_c2 = OrderManagementSystem;\nexport default OrderManagementSystem;\nvar _c, _c2;\n$RefreshReg$(_c, \"ProductPreview\");\n$RefreshReg$(_c2, \"OrderManagementSystem\");","map":{"version":3,"names":["React","useEffect","useState","Papa","html2canvas","ShoppingCart","Save","Trash2","Eye","Plus","FileText","User","ChevronLeft","ChevronRight","jsxDEV","_jsxDEV","ProductPreview","product","color","logo","logoPos","imageUrl","onClickPosition","id","width","height","className","style","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","backgroundColor","borderRadius","position","display","alignItems","justifyContent","overflow","src","image","alt","name","objectFit","left","x","top","y","Math","min","transform","pointerEvents","_c","OrderManagementSystem","_s","products","setProducts","selectedProduct","setSelectedProduct","selectedSize","setSelectedSize","quantity","setQuantity","logoFile","setLogoFile","logoPosition","setLogoPosition","orderItems","setOrderItems","customerInfo","setCustomerInfo","companyName","contact","phone","email","deliveryDate","ordersStats","pending","inProcess","completed","fetch","then","r","text","csvText","parse","header","skipEmptyLines","complete","result","parsed","data","prods","map","row","i","basePrice","parseFloat","price","type","length","catch","err","console","warn","handleLogoUpload","e","_e$target$files","f","target","files","reader","FileReader","onload","readAsDataURL","handlePreviewClickPosition","el","currentTarget","getBoundingClientRect","clientX","clientY","handleAddToOrder","newItem","Date","now","size","subtotal","prev","updateOrderItem","field","value","it","updated","q","Number","removeOrderItem","filter","getTotalOrder","reduce","s","exportOrder","alert","orderId","orderMeta","customer","items","total","status","createdAt","toISOString","itemsWithPreview","Promise","all","document","getElementById","previewImage","canvas","scale","toDataURL","productName","resp","method","headers","body","JSON","stringify","order","json","success","error","placeholder","onChange","idx","findIndex","p","newIdx","find","accept","marginRight","_c2","$RefreshReg$"],"sources":["C:/Users/Malu/Downloads/OrderSys-Coinsa/src/components/order-management-system.tsx"],"sourcesContent":["import React, { useEffect, useState, ChangeEvent } from \"react\";\nimport Papa from \"papaparse\";\nimport html2canvas from \"html2canvas\";\nimport { saveAs } from \"file-saver\";\n\nimport {\n  ShoppingCart,\n  Upload,\n  Save,\n  Trash2,\n  Eye,\n  Plus,\n  FileText,\n  User,\n  ChevronLeft,\n  ChevronRight\n} from \"lucide-react\";\n\n/* ===========================\n  Interfaces / Types\n   =========================== */\n\ninterface Product {\n  id: number;\n  name: string;\n  basePrice: number;\n  image: string; // path in public (e.g. /imgs/shirt.png)\n  type?: string;\n}\n\ninterface OrderItem {\n  id: number;\n  product: Product;\n  color: \"#FFFFFF\"; // literal blanco\n  size: string;\n  quantity: number;\n  logo: string | null; // base64 data URL\n  logoPosition: { x: number; y: number }; // px relative to preview box\n  subtotal: number;\n}\n\ninterface CustomerInfo {\n  companyName: string;\n  contact: string;\n  phone: string;\n  email: string;\n  deliveryDate: string;\n}\n\ninterface Order {\n  id: number;\n  customer: CustomerInfo;\n  items: OrderItem[];\n  total: number;\n  status: string;\n  createdAt: string;\n}\n\n/* ===========================\n  ProductPreview\n   =========================== */\n\ntype ProductPreviewProps = {\n  product: Product | null;\n  color: \"#FFFFFF\";\n  logo: string | null;\n  logoPos: { x: number; y: number };\n  imageUrl?: string;\n  onClickPosition?: (e: React.MouseEvent<HTMLDivElement>) => void;\n  id?: string;\n  width?: number;\n  height?: number;\n};\n\nconst ProductPreview: React.FC<ProductPreviewProps> = ({\n  product,\n  color,\n  logo,\n  logoPos,\n  imageUrl,\n  onClickPosition,\n  id,\n  width = 400,\n  height = 400,\n}) => {\n  if (!product) {\n    return (\n      <div\n        className=\"w-full h-full rounded-lg bg-gray-100 flex items-center justify-center\"\n        style={{ width, height }}\n      >\n        <p className=\"text-gray-400\">Selecciona un producto</p>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      id={id}\n      onClick={onClickPosition}\n      style={{\n        width,\n        height,\n        backgroundColor: color,\n        borderRadius: 8,\n        position: \"relative\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        overflow: \"hidden\",\n      }}\n    >\n      <img\n        src={imageUrl || product.image}\n        alt={product.name}\n        style={{ width: \"100%\", height: \"100%\", objectFit: \"contain\" }}\n      />\n      {logo && (\n        <img\n          src={logo}\n          alt=\"logo\"\n          style={{\n            position: \"absolute\",\n            left: logoPos.x,\n            top: logoPos.y,\n            width: Math.min(80, width * 0.4),\n            height: Math.min(80, height * 0.4),\n            transform: \"translate(-50%, -50%)\",\n            pointerEvents: \"none\",\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\n/* ===========================\n  Main component\n   =========================== */\n\nconst OrderManagementSystem: React.FC = () => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [selectedProduct, setSelectedProduct] = useState<Product | null>(null);\n  const [selectedSize, setSelectedSize] = useState<string>(\"M\");\n  const [quantity, setQuantity] = useState<number>(1);\n\n  const [logoFile, setLogoFile] = useState<string | null>(null);\n  const [logoPosition, setLogoPosition] = useState({ x: 200, y: 200 });\n\n  const [orderItems, setOrderItems] = useState<OrderItem[]>([]);\n  const [customerInfo, setCustomerInfo] = useState<CustomerInfo>({\n    companyName: \"\",\n    contact: \"\",\n    phone: \"\",\n    email: \"\",\n    deliveryDate: \"\",\n  });\n\n  const [ordersStats] = useState({ pending: 12, inProcess: 8, completed: 45 });\n\n  /* ---------------------------\n    Load products from CSV\n   --------------------------- */\n  useEffect(() => {\n    fetch(\"/products.csv\")\n      .then((r) => r.text())\n      .then((csvText) => {\n        Papa.parse(csvText, {\n          header: true,\n          skipEmptyLines: true,\n          complete: (result) => {\n            const parsed = result.data as any[];\n            const prods: Product[] = parsed.map((row, i) => ({\n              id: i + 1,\n              name: row.name || row.product || `Producto ${i + 1}`,\n              basePrice: parseFloat(row.basePrice || row.price || 0),\n              image: row.image || \"/imgs/placeholder.png\",\n              type: row.type || \"\",\n            }));\n            setProducts(prods);\n            if (prods.length > 0) setSelectedProduct(prods[0]);\n          },\n        });\n      })\n      .catch((err) => {\n        console.warn(\"No se pudo cargar products.csv:\", err);\n      });\n  }, []);\n\n  /* ---------------------------\n    Handlers\n   --------------------------- */\n  const handleLogoUpload = (e: ChangeEvent<HTMLInputElement>) => {\n    const f = e.target.files?.[0];\n    if (!f) return;\n    const reader = new FileReader();\n    reader.onload = () => {\n      setLogoFile(reader.result as string);\n      setLogoPosition({ x: 200, y: 200 });\n    };\n    reader.readAsDataURL(f);\n  };\n\n  const handlePreviewClickPosition = (e: React.MouseEvent<HTMLDivElement>) => {\n    const el = e.currentTarget.getBoundingClientRect();\n    const x = e.clientX - el.left;\n    const y = e.clientY - el.top;\n    setLogoPosition({ x, y });\n  };\n\n  const handleAddToOrder = () => {\n    if (!selectedProduct) return;\n    const newItem: OrderItem = {\n      id: Date.now(),\n      product: selectedProduct,\n      color: \"#FFFFFF\",\n      size: selectedSize,\n      quantity: quantity > 0 ? quantity : 1,\n      logo: logoFile,\n      logoPosition,\n      subtotal: (quantity > 0 ? quantity : 1) * selectedProduct.basePrice,\n    };\n    setOrderItems((prev) => [...prev, newItem]);\n    setLogoFile(null);\n    setLogoPosition({ x: 200, y: 200 });\n    setQuantity(1);\n  };\n\n  const updateOrderItem = (id: number, field: keyof OrderItem, value: any) => {\n    setOrderItems((prev) =>\n      prev.map((it) => {\n        if (it.id !== id) return it;\n        const updated = { ...it, [field]: value } as OrderItem;\n        if (field === \"quantity\") {\n          const q = Number(value) || 0;\n          updated.subtotal = updated.product.basePrice * q;\n          updated.quantity = q;\n        }\n        return updated;\n      })\n    );\n  };\n\n  const removeOrderItem = (id: number) => {\n    setOrderItems((prev) => prev.filter((it) => it.id !== id));\n  };\n\n  const getTotalOrder = () => orderItems.reduce((s, it) => s + it.subtotal, 0);\n\n  /* ---------------------------\n    Export helpers\n   --------------------------- */\n  const exportOrder = async () => {\n    if (orderItems.length === 0) {\n      alert(\"No puedes guardar una orden sin productos.\");\n      return;\n    }\n\n    const orderId = Date.now();\n    const now = new Date();\n    const orderMeta: Order = {\n      id: orderId,\n      customer: { ...customerInfo },\n      items: orderItems,\n      total: getTotalOrder(),\n      status: \"Pendiente\",\n      createdAt: now.toISOString(),\n    };\n\n    // üöÄ Enviar todo al backend\n    const itemsWithPreview = await Promise.all(\n      orderItems.map(async (it) => {\n        const el = document.getElementById(`hidden-preview-${it.id}`);\n        let previewImage: string | null = null;\n\n        if (el) {\n          const canvas = await html2canvas(el as HTMLElement, { scale: 2 });\n          previewImage = canvas.toDataURL(\"image/png\");\n        }\n\n        return {\n          ...it,\n          productName: it.product.name,\n          basePrice: it.product.basePrice,\n          previewImage,\n        };\n      })\n    );\n\n// validando saveorder\n    const resp = await fetch(\"http://localhost:5000/api/saveOrder\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        order: orderMeta,\n        items: itemsWithPreview,\n      }),\n    });\n\n    const data = await resp.json();\n    if (data.success) {\n      alert(`Orden ${orderId} guardada en el servidor ‚úÖ`);\n      setOrderItems([]);\n      setCustomerInfo({\n        companyName: \"\",\n        contact: \"\",\n        phone: \"\",\n        email: \"\",\n        deliveryDate: \"\",\n      });\n    } else {\n      alert(\"‚ùå Error al guardar la orden: \" + data.error);\n    }\n  };\n\n  /* ===========================\n    JSX (UI)\n   =========================== */\n  return (\n    <div className=\"bg-gray-100 min-h-screen p-8 font-sans\">\n      <div className=\"container mx-auto\">\n        {/* Header */}\n        <div className=\"flex justify-between items-center mb-6\">\n          <h1 className=\"text-3xl font-bold text-gray-800\">Sistema de √ìrdenes</h1>\n          <div className=\"flex space-x-4 text-sm font-semibold text-gray-700\">\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-red-500\">{ordersStats.pending}</span>\n              <span>Pendientes</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-yellow-500\">{ordersStats.inProcess}</span>\n              <span>En Proceso</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-green-500\">{ordersStats.completed}</span>\n              <span>Completadas</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Layout */}\n        <div className=\"bg-white rounded-xl shadow-xl p-8\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n            {/* Customer info */}\n            <div className=\"col-span-1 bg-gray-50 rounded-lg p-6 shadow-sm\">\n              <h2 className=\"text-xl font-bold mb-4 flex items-center\">\n                <User className=\"mr-2\" />\n                Informaci√≥n del Cliente\n              </h2>\n              <div className=\"space-y-4\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Empresa\"\n                  value={customerInfo.companyName}\n                  onChange={(e) =>\n                    setCustomerInfo({ ...customerInfo, companyName: e.target.value })\n                  }\n                  className=\"w-full px-3 py-2 border rounded\"\n                />\n                <input\n                  type=\"text\"\n                  placeholder=\"Contacto\"\n                  value={customerInfo.contact}\n                  onChange={(e) =>\n                    setCustomerInfo({ ...customerInfo, contact: e.target.value })\n                  }\n                  className=\"w-full px-3 py-2 border rounded\"\n                />\n                <input\n                  type=\"tel\"\n                  placeholder=\"Tel√©fono\"\n                  value={customerInfo.phone}\n                  onChange={(e) =>\n                    setCustomerInfo({ ...customerInfo, phone: e.target.value })\n                  }\n                  className=\"w-full px-3 py-2 border rounded\"\n                />\n                <input\n                  type=\"email\"\n                  placeholder=\"Email\"\n                  value={customerInfo.email}\n                  onChange={(e) =>\n                    setCustomerInfo({ ...customerInfo, email: e.target.value })\n                  }\n                  className=\"w-full px-3 py-2 border rounded\"\n                />\n                <input\n                  type=\"date\"\n                  value={customerInfo.deliveryDate}\n                  onChange={(e) =>\n                    setCustomerInfo({ ...customerInfo, deliveryDate: e.target.value })\n                  }\n                  className=\"w-full px-3 py-2 border rounded\"\n                />\n              </div>\n            </div>\n\n            {/* Product selector & preview */}\n            <div className=\"col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"bg-white rounded-lg p-6 shadow-lg\">\n                <h3 className=\"text-xl font-bold mb-4 flex items-center\">\n                  <ShoppingCart className=\"mr-2\" />\n                  Selecci√≥n del Producto\n                </h3>\n\n                <div className=\"flex items-center space-x-2 mb-4\">\n                  <button\n                    onClick={() => {\n                      if (!products.length) return;\n                      const idx = products.findIndex((p) => p.id === selectedProduct?.id);\n                      const newIdx = (idx - 1 + products.length) % products.length;\n                      setSelectedProduct(products[newIdx]);\n                    }}\n                    className=\"p-2 rounded bg-gray-100\"\n                  >\n                    <ChevronLeft />\n                  </button>\n\n                  <div className=\"flex-1 text-center\">\n                    <select\n                      value={selectedProduct?.id || \"\"}\n                      onChange={(e) => {\n                        const id = Number(e.target.value);\n                        const p = products.find((x) => x.id === id) || null;\n                        setSelectedProduct(p);\n                      }}\n                      className=\"w-full px-3 py-2 border rounded\"\n                    >\n                      {products.map((p) => (\n                        <option key={p.id} value={p.id}>\n                          {p.name} ‚Äî ${p.basePrice}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n\n                  <button\n                    onClick={() => {\n                      if (!products.length) return;\n                      const idx = products.findIndex((p) => p.id === selectedProduct?.id);\n                      const newIdx = (idx + 1) % products.length;\n                      setSelectedProduct(products[newIdx]);\n                    }}\n                    className=\"p-2 rounded bg-gray-100\"\n                  >\n                    <ChevronRight />\n                  </button>\n                </div>\n\n                <div className=\"mb-4\">\n                  <label className=\"text-sm block mb-1\">Talla</label>\n                  <select\n                    value={selectedSize}\n                    onChange={(e) => setSelectedSize(e.target.value)}\n                    className=\"w-full px-3 py-2 border rounded\"\n                  >\n                    <option value=\"XS\">XS</option>\n                    <option value=\"S\">S</option>\n                    <option value=\"M\">M</option>\n                    <option value=\"L\">L</option>\n                    <option value=\"XL\">XL</option>\n                  </select>\n                </div>\n\n                <div className=\"mb-4\">\n                  <label className=\"text-sm block mb-1\">Cantidad</label>\n                  <input\n                    type=\"number\"\n                    min={1}\n                    value={quantity}\n                    onChange={(e) => setQuantity(Number(e.target.value) || 1)}\n                    className=\"w-full px-3 py-2 border rounded\"\n                  />\n                </div>\n\n                <div className=\"mb-4\">\n                  <label className=\"text-sm block mb-1\">Logo del cliente</label>\n                  <div className=\"flex items-center space-x-2\">\n                    <input type=\"file\" accept=\"image/*\" onChange={handleLogoUpload} />\n                    {logoFile && (\n                      <img\n                        src={logoFile}\n                        alt=\"logo\"\n                        style={{ width: 40, height: 40, objectFit: \"cover\" }}\n                      />\n                    )}\n                  </div>\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    Haz clic en la vista previa para posicionar el logo.\n                  </p>\n                </div>\n\n                <div className=\"mt-4\">\n                  <button\n                    onClick={handleAddToOrder}\n                    className=\"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded flex items-center justify-center\"\n                  >\n                    <Plus className=\"mr-2\" /> Agregar a la Orden\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"bg-white rounded-lg p-6 shadow-lg flex flex-col items-center\">\n                <h3 className=\"text-xl font-bold mb-4 flex items-center\">\n                  <Eye className=\"mr-2\" /> Vista Previa\n                </h3>\n                <div style={{ width: 400, height: 400 }}>\n                  <ProductPreview\n                    product={selectedProduct}\n                    color=\"#FFFFFF\"\n                    logo={logoFile}\n                    logoPos={logoPosition}\n                    onClickPosition={handlePreviewClickPosition}\n                    imageUrl={selectedProduct?.image}\n                    id={\"preview-selected\"}\n                    width={400}\n                    height={400}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Order items summary */}\n          <div className=\"mt-8\">\n            <h2 className=\"text-xl font-bold mb-4 flex items-center\">\n              <FileText className=\"mr-2\" /> Resumen de la Orden\n            </h2>\n\n            {orderItems.length === 0 ? (\n              <p className=\"text-gray-500\">No hay productos en la orden.</p>\n            ) : (\n              <div className=\"space-y-4\">\n                {orderItems.map((it) => (\n                  <div\n                    key={it.id}\n                    className=\"flex items-center bg-white rounded p-4 shadow\"\n                  >\n                    {/* Miniatura visible */}\n                    <div\n                      className=\"flex-shrink-0 border rounded-lg shadow-sm\"\n                      style={{ width: 100, height: 100, marginRight: 12 }}\n                    >\n                      <ProductPreview\n                        product={it.product}\n                        color={it.color}\n                        logo={it.logo}\n                        logoPos={it.logoPosition}\n                        imageUrl={it.product.image}\n                        width={100}\n                        height={100}\n                      />\n                    </div>\n\n                    {/* Info */}\n                    <div className=\"flex-1\">\n                      <div className=\"flex justify-between items-start\">\n                        <div>\n                          <div className=\"font-semibold\">{it.product.name}</div>\n                          <div className=\"text-sm text-gray-600\">Talla: {it.size}</div>\n                          <div className=\"text-sm text-gray-600\">\n                            Precio: ${it.product.basePrice}\n                          </div>\n                        </div>\n                        <div className=\"text-right\">\n                          <div className=\"font-semibold\">${it.subtotal}</div>\n                          <button\n                            onClick={() => removeOrderItem(it.id)}\n                            className=\"text-red-500 mt-2\"\n                          >\n                            <Trash2 size={16} />\n                          </button>\n                        </div>\n                      </div>\n\n                      <div className=\"mt-3 flex items-center space-x-2\">\n                        <label className=\"text-sm\">Cantidad</label>\n                        <input\n                          type=\"number\"\n                          min={1}\n                          value={it.quantity}\n                          onChange={(e) =>\n                            updateOrderItem(\n                              it.id,\n                              \"quantity\",\n                              Number(e.target.value) || 1\n                            )\n                          }\n                          className=\"w-20 px-2 py-1 border rounded\"\n                        />\n                        {it.logo && (\n                          <span className=\"text-sm text-green-600 ml-4\">\n                            Logo personalizado\n                          </span>\n                        )}\n                      </div>\n                    </div>\n\n                    {/* üîí Preview oculto */}\n                    <div\n                      id={`hidden-preview-${it.id}`}\n                      style={{\n                        position: \"absolute\",\n                        left: \"-9999px\",\n                        top: 0,\n                        width: 400,\n                        height: 400,\n                      }}\n                    >\n                      <ProductPreview\n                        product={it.product}\n                        color={it.color}\n                        logo={it.logo}\n                        logoPos={it.logoPosition}\n                        imageUrl={it.product.image}\n                        width={400}\n                        height={400}\n                      />\n                    </div>\n                  </div>\n                ))}\n\n                {/* Total y bot√≥n exportar */}\n                <div className=\"mt-4 flex justify-end items-center space-x-4\">\n                  <div className=\"text-xl font-bold\">Total: ${getTotalOrder()}</div>\n                  <button\n                    onClick={exportOrder}\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded flex items-center\"\n                  >\n                    <Save className=\"mr-2\" /> Guardar Orden (Exportar)\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default OrderManagementSystem;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}